#include <SpriteRadio.h>

/*
  This example code will configure the CC1101 radio core in the CC430 to
  transmit a PRN sequence once per second. The output signal will be MSK
  modulated at 64 kbps on a 437.24 MHz carrier.
*/

static unsigned char prn0[80] = {
  0b00001101, 0b11111010, 0b00011001, 0b00101101, 0b11101111, 0b11011000, 0b11011100, 0b01110100,
  0b11100001, 0b11110101, 0b10111010, 0b01000011, 0b10000110, 0b00011011, 0b11111011, 0b11001001,
  0b11000100, 0b01011001, 0b11010100, 0b11110011, 0b10011101, 0b11100110, 0b01100010, 0b11100000,
  0b01010000, 0b01001011, 0b00101010, 0b10011111, 0b00110110, 0b11110110, 0b00101111, 0b11001010,
  0b11000001, 0b00110011, 0b10000101, 0b11010101, 0b00001010, 0b10010001, 0b01000010, 0b10010101,
  0b00000001, 0b11110100, 0b00010001, 0b11111101, 0b00000000, 0b10000101, 0b10110011, 0b00010100,
  0b11111100, 0b10101111, 0b01100010, 0b11100011, 0b00101001, 0b11111111, 0b00111100, 0b01010000,
  0b01010110, 0b11110110, 0b01100110, 0b10001001, 0b10110010, 0b11000000, 0b10011000, 0b01000100,
  0b10011100, 0b10111010, 0b10111001, 0b01100101, 0b10110100, 0b01111011, 0b10000010, 0b10010110,
  0b11000010, 0b01001000, 0b11011000, 0b10101110, 0b10001111, 0b00011001, 0b01111010, 0b10001101
};

SpriteRadio m_radio = SpriteRadio(prn0, prn0);

void setup() {
  pinMode(5, OUTPUT);
  m_radio.txInit();
};


void loop() {
  
  //Blink LED, wait a second
  digitalWrite(5, HIGH);
  m_radio.rawTransmit(prn0,64);
  delay(300);
  digitalWrite(5, LOW);
  delay(700);
};
